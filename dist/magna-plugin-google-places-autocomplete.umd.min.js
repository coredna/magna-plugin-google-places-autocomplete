var GooglePlacesAutocomplete=function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function f(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function p(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var d;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,d=Symbol.toStringTag;var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(k,e);var y,w,O,P,j=(y=k,function(){var e,t=c(y);if(l()){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function k(e){var o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),o=j.call(this,e),g.add(s(o)),r(s(o),d,"GooglePlacesAutocomplete"),r(s(o),"autocomplete",null),r(s(o),"_state",new n.State({})),m.set(s(o),{writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(_).forEach((function(n){var r=_[n],a=o.config.fields[r.name];if(a)for(var c=0;c<e.length;c++){var i=e[c];i.types.includes(n)&&(t[r.name]=i[a.type||r.type])}})),t}}),r(s(o),"onPlaceChanged",(function(){var e=o.autocomplete.getPlace();if("function"==typeof o.config.onPlaceChanged&&!1===o.config.onPlaceChanged.call(s(o),e))return;var t=e.address_components,n=f(s(o),m).call(s(o),t),c=o.$input.val(),i=c.substr(0,c.indexOf(","));o._state.setState("fields",(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{address:i})})),o._state.addressComponents=t})),r(s(o),"updateFields",(function(e){Object.keys(o.config.fields).forEach((function(n){var r=o.config.fields[n];t(r.selector).val(e[n])}))})),h.set(s(o),{writable:!0,value:function(e){var n=e.config;return new Promise((function(e,r){var a,c;if(null===(a=window)||void 0===a||null===(c=a.google)||void 0===c?void 0:c.maps)return p(s(o),g,v).call(s(o)),e();window.initAutocomplete=p(s(o),g,v).bind(s(o));var i=document.createElement("script");i.src="https://maps.google.com/maps/api/js?"+t.param({libraries:"places",language:n.language,callback:"initAutocomplete",key:n.API_KEY}),i.onload=function(){return e({success:!0,message:"google autocomplete loaded"})},i.onerror=function(){return r(new Error("failed to load google places autocomplete"))},document.head.appendChild(i)}))}}),b.set(s(o),{writable:!0,value:function(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation())}}),!o.config.API_KEY)throw new Error("missing google places API_KEY from config");return o}return w=k,(O=[{key:"initPromise",value:function(e){var t=e.request;return f(this,h).call(this,{request:t,config:this.config})}},{key:"init",value:function(e){e.request,e.config,this._state.subscribe("fields",this.config.updateFields||this.updateFields)}}])&&o(w.prototype,O),P&&o(w,P),k}(n.Plugin),m=new WeakMap,g=new WeakSet,h=new WeakMap,b=new WeakMap;r(y,"prefixDefaultFields",(function(e){return{country:{selector:'[name="'.concat(e,'countryid"]'),type:"short_name"},unit:{selector:'[name="'.concat(e,'address2"]'),type:"long_name"},address:{selector:'[name="'.concat(e,'address1"]'),type:"long_name"},postcode:{selector:'[name="'.concat(e,'postcode"]'),type:"short_name"},city:{selector:'[name="'.concat(e,'city"]'),type:"long_name"},state:{selector:'[name="'.concat(e,'state"]'),type:"short_name"}}})),r(y,"defaultFields",y.prefixDefaultFields("")),r(y,"defaultConfig",{API_KEY:"",country:"US",fields:{},language:"en-US",selector:"#google-autocomplete"});var v=function(){if("localhost"===location.hostname||"127.0.0.1"===location.hostname)return!1;this.$input=t(this.config.selector),this.autocomplete=new google.maps.places.Autocomplete(this.$input.get(0),{types:["geocode"],componentRestrictions:{country:this.config.country}}),this.autocomplete.addListener("place_changed",this.onPlaceChanged),this.$input.on("keydown keyup keypress",f(this,b))},_={street_number:{type:"short_name",name:"street_number"},route:{type:"short_name",name:"street"},colloquial_area:{type:"long_name",name:"city"},postal_town:{type:"short_name",name:"city"},neighborhood:{type:"long_name",name:"city"},sublocality:{type:"long_name",name:"city"},locality:{type:"long_name",name:"city"},postal_code_prefix:{type:"short_name",name:"postcode"},postal_code:{type:"short_name",name:"postcode"},administrative_area_level_1:{type:"short_name",name:"state"},country:{type:"short_name",name:"countryId"}};return e.default=y,e}({},$,magna);
